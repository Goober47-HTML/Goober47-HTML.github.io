<!DOCTYPE html>
<html lang="en">
<head>

  <script>
  function playAnimation(name) {
    const model = document.getElementById('bulborb');
    model.animationName = name;
    model.play();
  }

  // run when the page finishes loading
  window.addEventListener('load', () => {
    playAnimation('Idle');
  });
</script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

  <!-- Favicon (must be in the same folder as index.html) -->
  <link rel="icon" href="favicon.ico" type="image/x-icon">

  <title>WEBSITE!!</title>
</head>
<body>

  <h1>HELLO!</h1>

<p style="font-family: 'Comic Sans MS'">
  i am bulborb

<p style="font-family: 'Comic Sans MS'">
  |

</p>
<p style="font-family: 'Comic Sans MS'">
  \/

</p>

<model-viewer id="bulborb"
              src="model.glb"
              alt="Bulborb"
              camera-controls
              auto-rotate
              shadow-intensity="1"
  
              style="width: 600px; height: 400px;">
</model-viewer>

<!-- Animation Buttons -->
  
<button onclick="playAnimation('Walk')">Walk</button>
<button onclick="playAnimation('Idle')">Idle</button>


<script>
  function playAnimation(name) {
    const model = document.getElementById('bulborb');
    model.animationName = name;
    model.play();
  }

  // Wait for the MODEL to finish loading, not just the page
  document.getElementById('bulborb').addEventListener('load', () => {
    playAnimation('Idle');
  });
</script>

<script>
  const modelViewer = document.getElementById('bulborb');

  modelViewer.addEventListener('load', () => {
    playAnimation('Idle');

    const model = modelViewer.model;

    // Recursively search for a node by name
    function findNode(root, name) {
      if (root.name === name) return root;
      for (const child of root.children || []) {
        const result = findNode(child, name);
        if (result) return result;
      }
      return null;
    }

    // Find the eye bones anywhere in the hierarchy
    const leftEye = findNode(model, 'leye');
    const rightEye = findNode(model, 'reye');

    if (!leftEye || !rightEye) {
      console.warn("Eye bones found?", leftEye, rightEye);
      return;
    }

    window.addEventListener('mousemove', (event) => {
      const x = (event.clientX / window.innerWidth) * 2 - 1;
      const y = (event.clientY / window.innerHeight) * 2 - 1;

      leftEye.rotation.y = x * 0.5;
      leftEye.rotation.x = -y * 0.5;

      rightEye.rotation.y = x * 0.5;
      rightEye.rotation.x = -y * 0.5;
    });
  });
</script>
  
<a href="models.html">
  <button>Go Back</button>
</a>


</body>
</html>







